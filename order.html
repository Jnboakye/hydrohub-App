<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Water - HydroHub Water Services</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans">
    <!-- Navigation Bar -->
    <nav class="bg-blue-600 text-white py-4 sticky top-0 z-50 font-sans">
        <div class="container mx-auto px-4 sm:px-6 flex justify-between items-center">

            <!-- Logo with icon -->
            <a href="index.html"
                class="flex items-center space-x-2 text-white text-lg sm:text-xl font-semibold tracking-wide hover:text-blue-200 transition"
                style="font-family: 'Poppins', sans-serif;">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="currentColor"
                    viewBox="0 0 24 24" stroke="none">
                    <path d="M12 2C8.1 7.3 4 12.4 4 16.5 4 20.1 7.1 23 12 23s8-2.9 8-6.5c0-4-4.1-9.2-8-14.5z" />
                </svg>
                <span>HydroHub</span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex space-x-6 items-center">
                <a href="index.html" class="hover:text-gray-200">Home</a>
                <a href="#services" class="hover:text-gray-200">Services</a>
                <a href="#about" class="hover:text-gray-200">About</a>
                <a href="#contact" class="hover:text-gray-200">Contact</a>
                <a href="order.html"
                    class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-200 transition">Request
                    Water</a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="menu-toggle" class="md:hidden focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                    </path>
                </svg>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-blue-600 text-white">
            <a href="index.html" class="block px-4 py-2 hover:bg-blue-700">Home</a>
            <a href="#services" class="block px-4 py-2 hover:bg-blue-700">Services</a>
            <a href="#about" class="block px-4 py-2 hover:bg-blue-700">About</a>
            <a href="#contact" class="block px-4 py-2 hover:bg-blue-700">Contact</a>
            <a href="order.html"
                class="block px-4 py-2 bg-white text-blue-600 mx-4 my-2 rounded-lg font-semibold hover:bg-gray-200">Request
                Water</a>
        </div>
    </nav>

    <!-- Order Form Section -->
    <section class="py-8 sm:py-12 md:py-16">
        <div class="container mx-auto px-4 sm:px-6">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6 sm:mb-8">Request Your Water Delivery</h2>
            <form id="water-order-form" class="max-w-lg mx-auto bg-white p-6 sm:p-8 rounded-lg shadow-md">
                <!-- Full Name -->
                <div class="mb-4">
                    <label for="full-name" class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Full
                        Name</label>
                    <input type="text" id="full-name" name="full_name"
                        class="w-full px-4 py-3 sm:py-2 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-600"
                        required>
                </div>

                <!-- Phone Number -->
                <div class="mb-4">
                    <label for="phone" class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Phone
                        Number</label>
                    <input type="tel" id="phone" name="phone"
                        class="w-full px-4 py-3 sm:py-2 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-600"
                        required>
                </div>

                <!-- Location -->
                <div class="mb-4">
                    <label for="location"
                        class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Location</label>
                    <select id="location" name="location"
                        class="w-full px-4 py-3 sm:py-2 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-600"
                        required>
                        <option value="" disabled selected>Select your location</option>
                        <option value="dansoman">Dansoman</option>
                        <option value="eastlegon">East Legon</option>
                        <option value="spintex">Spintex</option>
                        <option value="weija">Weija</option>
                        <option value="kasoa">Kasoa</option>
                        <option value="awoshie">Awoshie</option>
                        <option value="kaneshie">Kaneshie</option>
                        <option value="osu">Osu</option>
                        <option value="ablekuma">Ablekuma</option>
                        <option value="teshie">Teshie</option>
                        <option value="lapaz">Lapaz</option>
                        <option value="achimota">Achimota</option>
                        <option value="nungua">Nungua</option>
                        <option value="latebiokoshie">Latebiokoshie</option>
                        <option value="burmacamp">Burma Camp</option>
                        <option value="sowutoum">Sowutoum</option>
                        <option value="oyarifa">Oyarifa</option>
                        <option value="danfa">Danfa</option>
                        <option value="oyibi">Oyibi</option>
                        <option value="madina">Madina</option>
                        <option value="lakeside">Lake Side</option>
                        <option value="teiman">Teiman</option>
                        <option value="abokobi">Abokobi</option>
                        <option value="old_ashongman">Old Ashongman</option>
                        <option value="new_ashongman">New Ashongman</option>
                        <option value="kwashieman">Kwashieman</option>
                        <option value="airport_residential">Airport Residential</option>
                        <option value="roman_ridge">Roman Ridge</option>
                        <option value="dzorwulu">Dzorwulu</option>
                        <option value="abelemkpe">Abelemkpe</option>
                        <option value="adjiringanor">Adjiringanor</option>
                        <option value="ashaley_botwe">Ashaley_botwe</option>
                        <option value="tesano">Tesano</option>
                        <option value="abeka">Abeka</option>
                        <option value="odokor">Odokor</option>
                        <option value="nima">Nima</option>
                        <option value="darkuman">Darkuman</option>

                    </select>
                </div>

                <!-- Amount of Water -->
                <div class="mb-4">
                    <label for="water-amount" class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Amount
                        of Water (Litres)</label>
                    <input type="number" id="water-amount" name="water_amount" min="1500"
                        class="w-full px-4 py-3 sm:py-2 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-600"
                        required>
                </div>

                <!-- Preferred Delivery Time -->
                <div class="mb-4">
                    <label for="delivery-time"
                        class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Preferred Delivery
                        Time</label>
                    <input type="datetime-local" id="delivery-time" name="delivery_time"
                        class="w-full px-4 py-3 sm:py-2 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-600"
                        required>
                </div>

                <!-- Price Estimate -->
                <div class="mb-6">
                    <label class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">Estimated Price</label>
                    <p id="price-estimate" class="text-lg sm:text-xl font-bold text-blue-600">GHS0.00</p>
                </div>

                <!-- Submit Button -->
                <button type="submit"
                    class="w-full bg-blue-600 text-white px-6 py-3 sm:py-4 rounded-lg font-semibold text-base sm:text-lg hover:bg-blue-700 transition">Submit
                    Request</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-10 mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8 text-sm">

                <!-- Contact Info -->
                <div>
                    <h3 class="font-semibold mb-3">Contact</h3>
                    <p>Dansoman Water works</p>
                    <p>East Legon</p>
                    <p>Kasoa</p>
                    <p>Weija</p>
                    <p>Email: hydrohubwaterservices@gmail.com</p>
                    <p>Phone: +233 59 155 6535</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="font-semibold mb-3">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#services" class="hover:underline">Services</a></li>
                        <li><a href="#about" class="hover:underline">About</a></li>
                        <li><a href="order.html" class="hover:underline">Request Water</a></li>
                    </ul>
                </div>

                <!-- Social -->
                <div>
                    <h3 class="font-semibold mb-3">Follow Us</h3>
                    <div class="flex space-x-4 mt-2">
                        <a href="#" class="hover:text-blue-400">
                            <i class="fa-brands fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="hover:text-blue-400">
                            <i class="fa-brands fa-tiktok text-xl"></i>
                        </a>
                        <a href="#" class="hover:text-blue-400">
                            <i class="fa-brands fa-facebook text-xl"></i>
                        </a>
                        <a href="#" class="hover:text-blue-400">
                            <i class="fa-brands fa-x-twitter text-xl"></i>
                        </a>
                        <a href="#" class="hover:text-blue-400">
                            <i class="fa-brands fa-snapchat text-xl"></i>
                        </a>
                    </div>
                </div>

            </div>

            <div class="text-center text-xs text-gray-400 mt-8">
                © 2025 HydroHub. All rights reserved.
                <p class="text-xs mt-1 text-gray-300">Website designed by jnb</p>
            </div>
        </div>
    </footer>

    <script>
        // Pricing logic (placeholder - adjust to match your backend)
        const pricing = {
            dansoman: { deliveryFee: 10, pricePerLitre: 0.05 },
            eastlegon: { deliveryFee: 20, pricePerLitre: 0.06 },
            spintex: { deliveryFee: 30, pricePerLitre: 0.07 }
        };

        // Update price estimate dynamically
        function updatePriceEstimate() {
            const location = document.getElementById('location').value;
            const waterAmount = parseFloat(document.getElementById('water-amount').value) || 0;
            if (location && waterAmount) {
                const { deliveryFee, pricePerLitre } = pricing[location];
                const totalPrice = (waterAmount * pricePerLitre + deliveryFee).toFixed(2);
                document.getElementById('price-estimate').textContent = `GHS${totalPrice}`;
            } else {
                document.getElementById('price-estimate').textContent = 'GHS0.00';
            }
        }

        // Event listeners for dynamic price updates
        document.getElementById('location').addEventListener('change', updatePriceEstimate);
        document.getElementById('water-amount').addEventListener('input', updatePriceEstimate);

        // Form submission
        document.getElementById('water-order-form').addEventListener('submit', async (e) => {
            // e.preventDefault();
            // const button = document.getElementById('submit-button');
            // button.disabled = true;
            // button.textContent = 'Submitting...';

            const formData = {
                full_name: document.getElementById('full-name').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                water_amount: parseFloat(document.getElementById('water-amount').value),
                delivery_time: document.getElementById('delivery-time').value
            };

            try {
                // Replace with your backend API endpoint
                const response = await fetch('https://script.google.com/macros/s/AKfycbxALnuFm9_wu_xHMNbqq5AMS2aacWzM-pE0k4oOgG8THlD8UgPYWz-uVRcOfPCPEhw7Fw/exec', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                const result = await response.json();
                if (result.status === 'success') {
                    alert('Order submitted successfully!');
                    document.getElementById('water-order-form').reset();
                    document.getElementById('price-estimate').textContent = '$0.00';
                } else {
                    alert(`Error: ${result.message || 'Failed to submit order.'}`);
                }
            } catch (error) {
                console.error('Fetch error:', error);
                alert(`Error connecting to the server: ${error.message}. Please try again later.`);
            } finally {
                button.disabled = false;
                button.textContent = 'Submit Request';
            }
        });

        // Mobile menu toggle
        document.getElementById('menu-toggle').addEventListener('click', () => {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
    </script>
</body>

</html>